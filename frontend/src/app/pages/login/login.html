<form class="space-y-6 max-w-md mx-auto" [formGroup]="loginForm" (ngSubmit)="onSubmit()">
  <h1 class="text-center">Log in to your account</h1>
  @if (error()) {
    <p class="text-red-500 text-sm mt-2 text-center">
      {{ error() }}
    </p>
  }
  <div class="flex flex-col">
    <label
      class="text-sm font-medium text-gray-700 mb-1 [.invalid]:text-red-500!"
      [class.invalid]="loginForm.get('email')?.invalid && loginForm.get('email')?.touched"
      for="email"
      >Email</label
    >
    <input
      id="email"
      type="email"
      formControlName="email"
      [class.invalid]="loginForm.get('email')?.invalid && loginForm.get('email')?.touched"
      class="border [.invalid]:border-red-500! [.invalid]:ring-red-500! [.invalid]:text-red-500! border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
    />
    @if (loginForm.get('email')?.invalid && loginForm.get('email')?.touched) {
      @if (loginForm.get('email')?.errors?.['required']) {
        <span class="text-red-500 text-sm">required</span>
      }
    }
  </div>

  <div class="flex flex-col">
    <label
      class="text-sm font-medium text-gray-700 mb-1 [.invalid]:text-red-500!"
      [class.invalid]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched"
      for="password"
      >Password</label
    >
    <input
      id="password"
      type="password"
      formControlName="password"
      [class.invalid]="loginForm.get('password')?.invalid && loginForm.get('password')?.touched"
      class="border [.invalid]:border-red-500! [.invalid]:ring-red-500! [.invalid]:text-red-500! border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"
    />
    @if (loginForm.get('password')?.invalid && loginForm.get('password')?.touched) {
      @if (loginForm.get('password')?.errors?.['required']) {
        <span class="text-red-500 text-sm">required</span>
      } @else if (loginForm.get('password')?.errors?.['minlength']) {
        <span class="text-red-500 text-sm">minimal 8 characters</span>
      } @else if (loginForm.get('newPassword')?.errors?.['maxlength']) {
        <span class="text-red-500 text-sm">maximal 32 characters</span>
      }
    }
  </div>

  <button
    type="submit"
    [disabled]="!loginForm.valid || isLoading()"
    class="border-(--accent)! m-0! w-full enabled:hover:text-(--accent)! border-2! enabled:hover:bg-transparent! rounded-lg! px-4! py-2! disabled:opacity-50! disabled:cursor-not-allowed! transition-all! bg-accent! text-white! font-medium!"
  >
    Login
  </button>

  <p style="margin-top: 16px; font-size: 0.95rem">
    Don't have an account?
    <a routerLink="/register" style="color: var(--accent); text-decoration: underline">Register</a>
  </p>
</form>
