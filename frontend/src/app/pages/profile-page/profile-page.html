<div class="profile-page">
  <div class="profile-container">
    <header class="profile-header">
      <h1 class="page-title">Profile</h1>
      <p class="page-subtitle">Update your personal details and how neighbours can reach you.</p>
    </header>

    <div class="profile-form-card" [formGroup]="profileForm">
      <div class="form-grid">
        <!-- First name -->
        <div class="field">
          <label class="label">First name</label>
          <input class="input" type="text" formControlName="firstname" placeholder="First name" />
        </div>

        <!-- Last name -->
        <div class="field">
          <label class="label">Last name</label>
          <input class="input" type="text" formControlName="lastname" placeholder="Last name" />
        </div>

        <!-- Email -->
        <div class="field">
          <label class="label">Email</label>
          <input
            class="input"
            type="email"
            formControlName="email"
            placeholder="you@email.com"
            [disabled]="true"
          />
        </div>

        <!-- Phone number -->
        <div class="field">
          <label class="label">Phone number</label>
          <input
            class="input"
            type="tel"
            formControlName="phoneNumber"
            placeholder="+32 4 00 00 00 00"
          />
        </div>

        <!-- Bio -->
        <div class="field full">
          <label class="label">Bio</label>
          <textarea
            class="textarea"
            rows="4"
            formControlName="bio"
            [attr.maxlength]="maxChars"
            placeholder="Briefly describe yourself for your neighbours..."
          ></textarea>

          <div
            class="char-counter"
            [class.limit-reached]="(profileForm.get('bio')?.value?.length || 0) >= maxChars"
          >
            {{ profileForm.get('bio')?.value?.length || 0 }} / {{ maxChars }} characters
          </div>
        </div>
      </div>

      <div class="form-footer">
        <button
          class="btn-save"
          (click)="saveProfile()"
          [disabled]="isSaving() || profileForm.invalid"
          [class.btn-success]="saveStatus.includes('SUCCESS')"
        >
          {{ saveStatus }}
        </button>
      </div>
    </div>
  </div>
</div>
