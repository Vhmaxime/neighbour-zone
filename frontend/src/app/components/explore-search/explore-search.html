<div class="search-container">
      <input 
        [formControl]="searchControl" 
        type="text" 
        placeholder="Search events or items..." 
        class="search-input"
      />

      <div *ngIf="results$ | async as results" class="results-dropdown">
        
        <div *ngIf="results.events.length > 0">
          <div class="section-header">Events</div>
          <div *ngFor="let event of results.events" class="result-item" (click)="onSelectEvent(event)">
            <span class="title">{{ event.title }}</span>
            <span class="meta">{{ event.dateTime | date:'shortDate' }}</span>
          </div>
        </div>

        <div *ngIf="results.marketplaceItems.length > 0">
          <div class="section-header">Marketplace</div>
          <div *ngFor="let item of results.marketplaceItems" class="result-item" (click)="onSelectMarketplace(item)">
            <span class="title">{{ item.title }}</span>
            <span class="meta">{{ item.description.slice(0, 30) }}...</span>
          </div>
        </div>

        <div *ngIf="results.events.length === 0 && results.marketplaceItems.length === 0 && searchControl.value" 
             class="no-results">
          No matches found.
        </div>
      </div>
    </div>