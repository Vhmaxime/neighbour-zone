<form
  class="grid grid-cols-1 md:grid-cols-2 gap-6 w-full"
  [formGroup]="profileForm"
  (ngSubmit)="onSubmit()"
>
  @if (isSuccess()){
  <div
    class="col-span-1 md:col-span-2 p-4 mb-4 text-green-800 bg-green-100 border border-green-200 rounded-lg"
  >
    Profile updated successfully!
  </div>
  } @if (isError()){
  <div
    class="col-span-1 md:col-span-2 p-4 mb-4 text-red-800 bg-red-100 border border-red-200 rounded-lg"
  >
    An error occurred while updating your profile. Please try again.
  </div>
  }
  <div class="flex flex-col mb-4">
    <label class="text-sm font-medium text-gray-700 mb-1" for="firstname">First name</label>
    <input
      id="firstname"
      type="text"
      formControlName="firstname"
      class="border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500"
    />
  </div>

  <div class="flex flex-col mb-4">
    <label class="text-sm font-medium text-gray-700 mb-1" for="lastname">Last name</label>
    <input
      id="lastname"
      type="text"
      formControlName="lastname"
      class="border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500"
    />
  </div>

  <div class="flex flex-col mb-4">
    <label class="text-sm font-medium text-gray-700 mb-1" for="username">Username</label>
    <input
      id="username"
      type="text"
      formControlName="username"
      class="border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500"
    />
  </div>

  <div class="flex flex-col mb-4">
    <label class="text-sm font-medium text-gray-700 mb-1" for="email">Email</label>
    <input
      id="email"
      type="email"
      formControlName="email"
      class="border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500"
    />
  </div>

  <div class="flex flex-col mb-4">
    <label class="text-sm font-medium text-gray-700 mb-1" for="phoneNumber">Phone number</label>
    <input
      id="phoneNumber"
      type="tel"
      formControlName="phoneNumber"
      class="border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary-500"
    />
  </div>

  <div class="flex flex-col mb-4 col-span-1 md:col-span-2">
    <label class="text-sm font-medium text-gray-700 mb-1" for="bio">Bio</label>
    <textarea
      id="bio"
      rows="4"
      formControlName="bio"
      class="border border-gray-300 rounded-lg px-3 py-2 min-h-25 resize-y focus:outline-none focus:ring-2 focus:ring-primary-500"
    ></textarea>
    <div class="text-right text-xs text-gray-400 mt-1">
      {{ profileForm.get('bio')?.value?.length || 0 }} / {{ 160 }} characters
    </div>
  </div>
  <button
    type="submit"
    [disabled]="!profileForm.valid || isLoading()"
    class="border-(--accent)! enabled:hover:text-(--accent)! border-2! enabled:hover:bg-transparent! rounded-lg! px-4! py-2! disabled:opacity-50! disabled:cursor-not-allowed! transition-all! bg-accent! text-white! font-medium!"
  >
    Save
  </button>
</form>
